<!DOCTYPE html>
<html>
  <head>
    <title>New Tab</title>
    <style>
    body {
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
        background-size: cover;
        background-color: #d8f1d7;
      }
      #search-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }
      #search-btn {
        background: url('Search.png') no-repeat center center;
        background-size: contain;
        border: none;
        cursor: pointer;
        height: 30px;
        width: 40px;
        margin-top: 1rem;
      }
      .options-btn {
        background-color: #ffffff; /* Green */
        border-width: 3px;
        color: rgb(0, 0, 0);
        padding: 12px 24px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 24px;
        margin: 1rem;
        border-radius: 4px;
        cursor: pointer;
      }
      #search-input {
        font-size: 1.5rem;
        font-family:Verdana;
        padding: 2rem;
        width: 80%;
        max-width: 800px;
        margin-bottom: 1rem;
        border: 5px solid rgb(0, 0, 0);
        border-radius: 1000px;
      }
      #search-form {
        text-align: center;
        width: 90%;
        max-width: 800px;
      }
      #datetime {
        font-size: 48px;
        font-family: Verdana;
        color: rgb(0, 0, 0);
        margin-bottom: 2rem;
      }
      #progress-bar-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 30px;
      }
      #progress-bar {
        width: 0%;
        height: 30px;
        background-color: rgb(18, 190, 18);
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
    }
    t {
        text-align:center;
        font-family:Verdana;
        font-size:24px;
        color: #FFFFFF;
        font-weight: 54;
        margin-top:100px;
        justify-content:flex-start;
      }
      tt {
        text-align:center;
        font-family:Verdana;
        font-size:24px;
        color: #000000;
        font-weight: 54;
        margin-top:100px;
        justify-content:flex-start;
        z-index: 1;
        position:absolute;
      }
      tb {
        text-align:center;
        font-family:Verdana;
        font-size:24px;
        color: #000000;
        font-weight: 54;
        margin-top:159px;
        justify-content:flex-start;
        z-index:0;
        position:absolute;
      }
    </style>
    <link rel="icon" href="SaveTheEarthTabIcon.jpg">
    <script type="text/javascript" data-cfasync="false">
<script type="text/javascript" data-cfasync="false">
/*<![CDATA[/* */
(function(){if(window.b339ca7fbccd4f533efcbcfa6dda2003) return; window.b339ca7fbccd4f533efcbcfa6dda2003="EYZDT6PUiYlV53GF7tw51IWBgT-a2qdg57YOHSmD7-alEX0oi5jd3PdOrZNOEAHkEHccFqiAjtGlETY";var a=['wrleZcOew44aPR4=','wrLDv0BMUsKGwpDDpkvDpgUZ','GA4IwrTDg8KgMw==','wpbDs2ZU','NUNMwpzCjsKewoQxO8KKDVbDqm/CnhhOfQpoaHzDq8KWw6vCpsKUBMKKw7w=','wrZLwpHDuXXDmMKl','KMOowqs=','f8K2wq/Dgg7DmsO8wo3Du08=','w683wrx/wo0=','w7orwrV8woF0fQ5OMnLDhA==','woHDuHNQfMKYw5kvb8K+wottWQ==','dzzDkMKwBjfDpsKjw4A7woZUw47DqcKz','wrVKEhDDlWQ=','F8KJwrZeHsOa','BHnDkcOpA8KT','woXCvcOnICc3w73Cjw==','FcOad3U=','w6/Crz/Dg8OESMKvVsO5','WsKedMKkcg3DjsOk','w6Q1YsOjwqt+','wrR4Q8K3w6LCt8OSA8OQwoFKd8Odw74MeE0dI8KAIDLDrk/DkgwVwo7DucKnwrJjDF0vwpku','fcKhw4TDgxIbdcKFwqfDg8OiIw==','JlFdw5PCjMKXwpQZK8KZIkTDsg==','J8KqWVlpSAHCt8OJwrBnw5Izw7kWw4NNf8OmZAvCoy1YHR86wrfCncK8wq1IUQ1tVsOjw4w=','FxkvwprCvsKHJi3CqsKADFwlwpTDrHfDgsOTRcKx','w7I6wrkqM191w7XCqk/DpBoyw6s=','wqXDtMKnOjRow7NMfsKdBcKzbkbDq2nCsiljwpg2d8KswoA=','FBx7PkZXGAV1w4MU'];(function(b,e){var f=function(g){while(--g){b['push'](b['shift']());}};f(++e);}(a,0x1aa));var b=function(c,d){c=c-0x0;var e=a[c];if(b['AnpktY']===undefined){(function(){var h;try{var j=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');h=j();}catch(k){h=window;}var i='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';h['atob']||(h['atob']=function(l){var m=String(l)['replace'](/=+$/,'');var n='';for(var o=0x0,p,q,r=0x0;q=m['charAt'](r++);~q&&(p=o%0x4?p*0x40+q:q,o++%0x4)?n+=String['fromCharCode'](0xff&p>>(-0x2*o&0x6)):0x0){q=i['indexOf'](q);}return n;});}());var g=function(h,l){var m=[],n=0x0,o,p='',q='';h=atob(h);for(var t=0x0,u=h['length'];t<u;t++){q+='%'+('00'+h['charCodeAt'](t)['toString'](0x10))['slice'](-0x2);}h=decodeURIComponent(q);var r;for(r=0x0;r<0x100;r++){m[r]=r;}for(r=0x0;r<0x100;r++){n=(n+m[r]+l['charCodeAt'](r%l['length']))%0x100;o=m[r];m[r]=m[n];m[n]=o;}r=0x0;n=0x0;for(var v=0x0;v<h['length'];v++){r=(r+0x1)%0x100;n=(n+m[r])%0x100;o=m[r];m[r]=m[n];m[n]=o;p+=String['fromCharCode'](h['charCodeAt'](v)^m[(m[r]+m[n])%0x100]);}return p;};b['rPQRjN']=g;b['NEVtZx']={};b['AnpktY']=!![];}var f=b['NEVtZx'][c];if(f===undefined){if(b['EhsErl']===undefined){b['EhsErl']=!![];}e=b['rPQRjN'](e,d);b['NEVtZx'][c]=e;}else{e=f;}return e;};var k=window;k[b('0xa','(bA2')]=[[b('0x6','!7xm'),0x4b9c95],[b('0x8','GG9j'),0x0],[b('0x13','nJnW'),'0'],[b('0x17','1y6T'),0x0],[b('0x1b','8LiN'),![]],[b('0x10','mTv7'),0x0],[b('0x3','g5t^'),!0x0]];var u=[b('0x11','$RGm'),b('0xe','^A[0'),b('0x14','92VI'),b('0x1a','mTv7')],f=0x0,o,v=function(){if(!u[f])return;o=k[b('0xc','kFai')][b('0x4','IXs4')](b('0xd','R2tS'));o[b('0x19','IXs4')]=b('0x5','U[rN');o[b('0x2','g5t^')]=!0x0;var c=k[b('0x9','N0&6')][b('0x12','BLzf')](b('0x7','@tE$'))[0x0];o[b('0x0','ItBV')]=b('0x16','OG*N')+u[f];o[b('0x15','88sO')]=b('0xb','q%oN');o[b('0x18','X^*E')]=function(){f++;v();};c[b('0x1','($dT')][b('0xf','1ssJ')](o,c);};v();})();
/*]]>/* */
</script>

  </head>
  <body>
    <div id="progress-bar-container">
        <div id="progress-bar"></div>
    </div>
    <button onclick="window.open('options.html')", class="options-btn">Options</button>
    <div id="reset-count" class="text-style"></div>
    <div id="time-to-reset"></div>
    <div id="search-container">
      <div id="datetime"></div>
      <div id="search-form">
        <form action="https://www.google.com/search" method="get">
          <input type="text" id="search-input" name="q" placeholder="Search the web">
          <button type="submit" id="search-btn"></button>
        </form>
      </div>
    </div>
    <script>
    var progressBar = document.getElementById("progress-bar");
    var currentProgress = Number(localStorage.getItem("progress")) || 0;
    var progressBarWidth = currentProgress + "%";
    progressBar.style.width = progressBarWidth;

        var currentProgress = Number(localStorage.getItem("progress")) || 0;
        var progressResetCount = Number(localStorage.getItem("resetCount")) || 0;
        currentProgress += 1;
        if (currentProgress > 100) {
            currentProgress = 0;
            progressResetCount += 1;
        }
        localStorage.setItem("progress", currentProgress);
        localStorage.setItem("resetCount", progressResetCount);

        var progressBarContainer = document.getElementById("progress-bar-container");
        var resetCountElement = document.createElement("tt");
        resetCountElement.id = "reset-count";
        resetCountElement.textContent = "You planted " + progressResetCount + " trees.";

        var timeToResetElement = document.createElement("tb");
        timeToResetElement.id = "time-to-reset";
        timeToResetElement.textContent = "You are " + currentProgress + "% to another tree! For now, this is not functional. ";

        treeCounter = 0;
        progressBarContainer.appendChild(resetCountElement);
        progressBarContainer.appendChild(timeToResetElement);
    </script>
    <script>
      const savedBackgroundColor = localStorage.getItem('background-color');
      
      const savedTextColor = localStorage.getItem('text-color');
      if (savedTextColor) {
        document.getElementById('datetime').style.color = savedTextColor;
      }
      const treeBackground = localStorage.getItem('tree-background');
      if (treeBackground == 'true') {
        const backgroundImage = 'backgroundNewTab.jpg';
        document.body.style.backgroundImage = `url(${backgroundImage})`;
      }
      else if(savedBackgroundColor){
        document.body.style.backgroundColor = savedBackgroundColor;
      }
      else{
        const backgroundImage = 'backgroundNewTab.jpg';
        document.body.style.backgroundImage = `url(${backgroundImage})`
      }
    </script>    
    <script>
      function updateDateTime() {
        const now = new Date();
        const dateTimeString = now.toLocaleString();
        document.getElementById('datetime').textContent = dateTimeString;
      }

      // Update the datetime on page load
      updateDateTime();

      // Update the datetime every second
      setInterval(updateDateTime, 1000);
    </script>
  </body>
</html>
